<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CloudDrive Register</title>
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <link href="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  </head>
  <body class="bg-gray-100 dark:bg-gray-700 h-screen w-screen flex items-center justify-center">
    <form action="/user/register" method="POST" class="w-70">
      <div class="mb-4">
        <label for="username" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Username</label>
        <input type="text" id="username" name="username" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" />
      </div>
      <div class="mb-4">
        <label for="email" class="block text-sm font-medium text-gray-900 dark:text-white">Email</label>
        <input type="email" id="email" name="email" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" />
      </div>
      <div class="mb-4" >
         <label for="password" class="block text-sm font-medium text-gray-900 dark:text-white">Password</label>
        <div class="relative">
          <input type="password" id="password" name="password" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm pr-10 focus:border-blue-500 focus:ring-blue-500 sm:text-sm" />
          <button type="button" onclick="togglePassword()" class="absolute inset-y-0 right-0 px-3 flex items-center text-gray-500 hover:text-gray-700">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0zM2.458 12C3.732 7.943 7.686 5 12 5s8.268 2.943 9.542 7c-1.274 4.057-5.228 7-9.542 7s-8.268-2.943-9.542-7z" />
            </svg>
          </button>
        </div>
      </div>
      <button type="submit" class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">Register</button>
      <div class="mt-6 text-center">
      <p class="text-base text-gray-700 dark:text-gray-100">
      Already have an account?
      <a href="/user/login" class="text-blue-700 font-semibold hover:underline dark:text-blue-400">
      Login
      </a>
      </p>
      </div>
    </form>
  
    <script>
      function togglePassword() {
        const passwordInput = document.getElementById("password");
        const type = passwordInput.getAttribute("type") === "password" ? "text" : "password";
        passwordInput.setAttribute("type", type);
        const button = document.querySelector("button[onclick='togglePassword()']");
        button.innerHTML = type === "password" ? 
          `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0zM2.458 12C3.732 7.943 7.686 5 12 5s8.268 2.943 9.542 7c-1.274 4.057-5.228 7-9.542 7s-8.268-2.943-9.542-7z" />
          </svg>` :
          `<svg className="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
            <path fill-rule="evenodd" d="M4.998 7.78C6.729 6.345 9.198 5 12 5c2.802 0 5.27 1.345 7.002 2.78a12.713 12.713 0 0 1 2.096 2.183c.253.344.465.682.618.997.14.286.284.658.284 1.04s-.145.754-.284 1.04a6.6 6.6 0 0 1-.618.997 12.712 12.712 0 0 1-2.096 2.183C17.271 17.655 14.802 19 12 19c-2.802 0-5.27-1.345-7.002-2.78a12.712 12.712 0 0 1-2.096-2.183 6.6 6.6 0 0 1-.618-.997C2.144 12.754 2 12.382 2 12s.145-.754.284-1.04c.153-.315.365-.653.618-.997A12.714 12.714 0 0 1 4.998 7.78ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" clip-rule="evenodd"/>
          </svg>`;
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.js"></script>
    <% if (typeof error !== 'undefined') { %>
  <script>
    alert("<%= error %>");
  </script>
  <% } %>
  </body>
</html>